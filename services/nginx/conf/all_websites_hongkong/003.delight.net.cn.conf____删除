 # 容器中顶级目录88888888与dnmp/.env中的B_TOP_DIR一致，此文件中有4处
server {
    set $COMPANY_DIR /888/server_hongkong/001_adlightbox;
    access_log /888/server_hongkong/dnmp_for_hongkong/logs/nginx1.15.7/001_adlightbox_access.log;
    error_log /888/server_hongkong/dnmp_for_hongkong/logs/nginx1.15.7/001_adlightbox_error.log  error;# 上线后改为error
    #rewrite_log on; # 上线后注释掉


    server_name delight.net.cn www.delight.net.cn delight.net.bendi;
    root ${COMPANY_DIR}/www;
    index  index.php index.html index.htm;
    #charset koi8-r;


    # location请按  = , ^~, 正则(~,~*)，空的顺序

    location ^~ /(js|zui|wui|data)/ {
        root ${COMPANY_DIR}/www;
        # 调试模式，客户端不缓存
       # add_header Cache-Control no-cache;
       # add_header Pragma no-cache;
       # add_header Expires 0;

    }

    location ^~ /theme/ {
       #echo $document_root;
       # echo $url;
        root ${COMPANY_DIR}/clients/;
    }
           #location ~ .*\.(gif|jpg|jpeg|png|js|css)$ {
           #   root /2019/clients/002_adlightbox.com/clients/;
          #}


    # location第3部分 正则
    location ~ \.php$ {
        #fastcgi_pass    c2:9000;                       # 有一次将unix:写掉了，查错查了半天
        #fastcgi_pass    _php;
        # fastcgi_pass    unix:/run/php/php7.2-fpm.sock;                      # 有一次将unix:写掉了，查错查了半天
        #fastcgi_param   SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        #fastcgi_param   SCRIPT_FILENAME  /2019/clients/001_fangshuixiushan.com/www/$fastcgi_script_name;
        #fastcgi_param   PATH_VENDOR /2019/vendor;
        #include         fastcgi_params;                                    # 注意这里的写法

        fastcgi_pass   _php;
        include        fastcgi-php.conf;
        include        fastcgi_params;

        #fastcgi_param   SCRIPT_FILENAME  /2019/001_adlightbox/www/$fastcgi_script_name;
    }

     location ~ /videothumb/(.*) {
            alias /88888888/001_adlightbox/www/;
            video_thumbextractor;
            video_thumbextractor_video_filename    $1;
            video_thumbextractor_video_second      $arg_second;
            video_thumbextractor_image_width       $arg_width;
            video_thumbextractor_image_height      $arg_height;
            #video_thumbextractor_tile_rows 2;
            #video_thumbextractor_tile_cols 4;
            # video_thumbextractor_tile_sample_interval 220;           
    }

    location /echo {
        echo 'test echo';
    }

    # location第4部分 空
    location / {
       #add_header Content-Type text/plain;
        #echo 'wangqianjin';
        #index index.html;
        index index.php index.html;
    }
}